## 09. 타입 변환과 단축 평가

명시적 타입 변환, 타입 캐스팅 <-> 암묵적 타입 변환, 타입 강제 변환

타입 변환: 원시 값은 변경 불가능한 값, 기존 원시 값을 사용해 다른 타입의 새로운 원시 값을 **생성**하는 것

_falsy 값 (6가지)_

- false
- undefined
- null
- 0, -0
- NaN
- ''

### 명시적 타입 변환

1. 표준 빌트인 생성자 함수를 new 연산자 없이 호출
2. 빌트인 메서드 사용
3. 암묵적 타입 변환 이용

#### 문자열 타입으로 변환

1. String 생성자 함수를 new 연산자 없이 호출

```js
String(123);
```

2. Object.prototype.toString 메서드 사용

```js
(1).toString();
```

3. 문자열 연결 연산자 이용

```js
1 + "";
```

_추가) `(1).toString();` 1은 원시값인데 Object.prototype의 메서드를 사용 할 수 있는 이유_

원시값인 문자열, 숫자, 불리언 값의 경우에 마침표 또는 대괄호 표기법으로 접근하면 자바스크립트 엔진이 일시적으로 원시값을 연관된 객체로 변환해준다.

문자열, 숫자, 불리언 값에 대해 객체처럼 접근하면 생성되는 임시 객체를 래퍼 객체(wrapper object)라 한다. 메서드를 호출한 뒤, 다시 원시 값으로 되돌린다.

#### 숫자 타입으로 변환

1. Number 생성자 함수를 new 연산자 없이 호출

```js
Number("0");
```

2. parseInt, parseFloat 함수를 사용

```js
parseInt("0");
```

3. +, \* 연산자 이용

```js
+"1";
"1" * 1;
```

#### 불리언 타입으로 변환

1. Boolean 생성자 함수를 new 연산자 없이 호출

```js
Boolean("x");
```

2. ! 부정 논리 연산자를 두 번 사용

```js
!!"x";
```

### 단축 평가

논리 연산자는 논리 연산의 결과를 결정하는 피연산자를 **타입 변환하지 않고 그대로 반환한다.**

_개인적으로 왼쪽값이 true일 때 리턴되는 값을 화살표로 생각했을 때 빠르게 판단하는데 도움이 되었다._

```js
    ---->
true && false // false
false && true // false
{} && 123 // 123

   <----
true || false // true
false || true // true
{} || 123 // {}
```

_`&&` 단축 평가와 옵셔널 체이닝_

객체를 가리키기를 기대하는 변수의 값이 객체가 아니라 null이나 undefined인 경우
타입 에러가 발생하며 프로그램이 종료된다.

- `&&` 단축 평가

```js
const elem = null;
const value = elem && elem.value; // null
```

- 옵셔널 체이닝

옵셔널 체이닝 연산자 `?.`는 좌항의 피연산자가 null이나 undefined인 경우 undefined를 반환하고, 그렇지 않으면 우항의 프로퍼티 참조를 이어간다.

> 두 가지 방식의 차이 \
> 단축 평가는 모든 falsy 값에 대해 좌항을 반환하지만 옵셔널 체이닝 방식은 null이나 undefined에 대해서만 undefined를 반환한다.
